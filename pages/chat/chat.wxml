<view class="chat-container">
  <!-- 聊天记录区域 -->
  <scroll-view 
    scroll-y="true" 
    class="message-list"
    scroll-into-view="{{lastMessageId}}"
    scroll-with-animation="true"
    enhanced="true"
    show-scrollbar="false">
    <view class="messages-wrapper">
      <block wx:for="{{messages}}" wx:key="id">
        <!-- 用户消息 -->
        <view wx:if="{{item.type === 'user'}}" class="message-item user">
          <view class="message-wrapper">
            <view class="bubble user">
              <text>{{item.content}}</text>
            </view>
            <view class="avatar user">
              <image src="/images/user-avatar.png" mode="aspectFill"></image>
            </view>
          </view>
        </view>
        <!-- AI助手消息 -->
        <view wx:else class="message-item assistant">
          <view class="message-wrapper">
            <view class="avatar assistant">
              <image src="/images/ai-avatar.png" mode="aspectFill"></image>
            </view>
            <view class="bubble assistant">
              <text>{{item.content}}</text>
            </view>
          </view>
        </view>
      </block>
    </view>
  </scroll-view>

  <!-- 底部输入区域 -->
  <view class="input-area">
    <view class="input-wrapper">
      <view class="camera-btn" bindtap="chooseImage">
        <image src="/images/camera.png" mode="aspectFit"></image>
      </view>
      <input 
        class="message-input"
        value="{{inputValue}}"
        bindinput="onInput"
        placeholder="输入你的问题"
        confirm-type="send"
        bindconfirm="sendMessage"
      />
      <button 
        class="send-btn {{inputValue.trim() ? 'active' : ''}}"
        bindtap="sendMessage"
        disabled="{{!inputValue.trim()}}"
      >发送</button>
    </view>
  </view>
</view>