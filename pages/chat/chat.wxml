<view class="chat-container">
  <!-- 聊天记录区域 -->
  <scroll-view 
    scroll-y="true" 
    class="message-list"
    scroll-into-view="{{lastMessageId}}"
    scroll-with-animation="true"
    enhanced="true"
    show-scrollbar="false">
    <view class="messages-wrapper">
      <block wx:for="{{messages}}" wx:key="id">
        <!-- 用户消息 -->
        <view wx:if="{{item.type === 'user'}}" class="message-item user">
          <view class="message-content user">
            <text>{{item.content}}</text>
          </view>
        </view>
        <!-- AI助手消息 -->
        <view wx:else class="message-item assistant">
          <view class="avatar">AI</view>
          <view class="message-content assistant">
            <text>{{item.content}}</text>
          </view>
        </view>
      </block>
    </view>
  </scroll-view>

  <!-- 输入区域 -->
  <view class="input-area">
    <view class="input-wrapper">
      <view class="camera-btn" bindtap="chooseImage">
        <image src="/images/camera.png" mode="aspectFit"></image>
      </view>
      <input 
        class="message-input"
        value="{{inputValue}}"
        bindinput="onInput"
        placeholder="输入你的问题"
        confirm-type="send"
        bindconfirm="sendMessage"
      />
      <button 
        class="send-btn {{inputValue.trim() ? 'active' : ''}}"
        bindtap="sendMessage"
        disabled="{{!inputValue.trim()}}"
      >发送</button>
    </view>
  </view>
</view>